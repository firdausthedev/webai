{"version":3,"sources":["components/layout/Navbar.js","components/upload/ImageUpload.js","App.js","index.js"],"names":["Nav","styled","nav","_templateObject","Object","taggedTemplateLiteral","NavContainer","div","_templateObject2","Navbar","react_default","a","createElement","id","className","href","rel","target","Upload","ImageUpload_templateObject","ImageUpload","_useState","useState","_useState2","slicedToArray","model","setModel","_useState3","_useState4","file","setFile","_useState5","_useState6","loadPred","isLoadPred","_useState7","_useState8","showPred","setShowPred","_useState9","_useState10","pred","setPred","hiddenFileInput","React","useRef","modelFunc","name","onClick","e","current","click","type","accept","style","display","ref","onChange","files","length","event","value","src","URL","createObjectURL","formData","FormData","append","fetch","method","body","then","response","json","res","filename","prob","console","log","toFixed","App","layout_Navbar","upload_ImageUpload","ReactDOM","render","StrictMode","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3b62a52c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <NavContainer id='navbar'>\r\n      <Nav>\r\n        <div className='title-wrapper'>\r\n          <h2>ImageAI</h2>\r\n          <a a href='#' rel='noopener noreferrer' target='_blank'>\r\n            Upload Model\r\n          </a>\r\n        </div>\r\n        <ul>\r\n          <li>\r\n            <a href='#' rel='noopener noreferrer' target='_blank'>\r\n              Help\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </Nav>\r\n    </NavContainer>\r\n  );\r\n};\r\n\r\nconst Nav = styled.nav`\r\n  margin: auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.7rem 2rem;\r\n  z-index: 1;\r\n  width: 100%;\r\n  opacity: 0.9;\r\n  margin-bottom: 1.5rem;\r\n  ul {\r\n    list-style: none;\r\n    display: flex;\r\n  }\r\n  a {\r\n    color: white;\r\n    background: black;\r\n    padding: 0.5rem 1rem;\r\n    border-radius: 10px;\r\n    margin: 0 0.25rem;\r\n    font-size: 0.8rem;\r\n    text-decoration: none;\r\n    &:hover {\r\n      background: white;\r\n      color: black;\r\n      transition: 1s;\r\n    }\r\n  }\r\n\r\n  .title-wrapper {\r\n    padding: 0.1rem 1rem;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h2 {\r\n      font-size: 1rem;\r\n    }\r\n    a {\r\n      margin-left: 1.3rem;\r\n    }\r\n  }\r\n  @media (max-width: 480px) {\r\n    flex-direction: column;\r\n    .title-wrapper {\r\n      border-radius: 10px;\r\n      margin-bottom: 1rem;\r\n      h2 {\r\n        font-size: 0.8rem;\r\n      }\r\n    }\r\n    a {\r\n      margin: 2rem 0.25rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NavContainer = styled.div`\r\n  background-color: rgba(230, 230, 230, 0.75);\r\n  color: black;\r\n`;\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nfunction ImageUpload() {\r\n  const [model, setModel] = useState(\"knife\");\r\n  const [file, setFile] = useState(null);\r\n  const [loadPred, isLoadPred] = useState(false);\r\n  const [showPred, setShowPred] = useState(false);\r\n  const [pred, setPred] = useState(0.0);\r\n\r\n  const hiddenFileInput = React.useRef(null);\r\n\r\n  const onFileClick = (e) => {\r\n    if (file == null) {\r\n      hiddenFileInput.current.click();\r\n    }\r\n  };\r\n\r\n  const modelFunc = (name) => {\r\n    setModel(name);\r\n  };\r\n\r\n  const fileChange = (e) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      setFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  // When user click clear btn\r\n  const onClearClick = (e) => {\r\n    setFile(null);\r\n  };\r\n\r\n  // When user click upload btn\r\n  const onUploadClick = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"filename\", file.name);\r\n    isLoadPred(true);\r\n    fetch(\"https://firdausthedev-webai.herokuapp.com/uploadimage\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        const res = body.filename;\r\n        fetch(\r\n          \"https://firdausthedev-webai.herokuapp.com/predictimage/\" +\r\n            res +\r\n            \"/\" +\r\n            model +\r\n            \".pkl\",\r\n          {\r\n            method: \"GET\",\r\n          }\r\n        ).then((response) => {\r\n          response.json().then((body) => {\r\n            const res = body.prob.model;\r\n            isLoadPred(false);\r\n            setShowPred(true);\r\n            setPred(res);\r\n            console.log(res);\r\n          });\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  // When user click close btn\r\n  const onClosePred = () => {\r\n    setPred(0.0);\r\n    setShowPred(false);\r\n    setFile(null);\r\n  };\r\n\r\n  return (\r\n    <Upload>\r\n      <div className='image-select'>\r\n        <p>Select Model</p>\r\n        <a\r\n          onClick={() => modelFunc(\"knife\")}\r\n          className={model === \"knife\" ? \"active\" : \"\"}\r\n        >\r\n          Knife model\r\n        </a>\r\n        <a\r\n          onClick={() => modelFunc(\"scissor\")}\r\n          className={model === \"scissor\" ? \"active\" : \"\"}\r\n        >\r\n          Scissor model\r\n        </a>\r\n        <a\r\n          onClick={() => modelFunc(\"model\")}\r\n          className={model === \"model\" ? \"active\" : \"\"}\r\n        >\r\n          Upload model +\r\n        </a>\r\n      </div>\r\n      <div className='image-upload'>\r\n        <a>My Uploads</a>\r\n        <div className='upload-box' onClick={onFileClick}>\r\n          <input\r\n            id='file-upload'\r\n            type='file'\r\n            name='file'\r\n            accept='image/*'\r\n            style={{ display: \"none\" }}\r\n            ref={hiddenFileInput}\r\n            onChange={fileChange}\r\n            onClick={(event) => {\r\n              event.target.value = null;\r\n            }}\r\n          />\r\n          <div>\r\n            {file == null ? (\r\n              <div className='upload-info'>\r\n                <p>UPLOAD IMAGE HERE</p>\r\n                <p>Accepting image files such as png, jpg and jpeg.</p>\r\n              </div>\r\n            ) : loadPred == false && showPred == false ? (\r\n              <div className='upload-image'>\r\n                <img src={URL.createObjectURL(file)} />\r\n                <p></p>\r\n                <div className='upload-image-btns'>\r\n                  <a onClick={onClearClick}>Clear</a>\r\n                  <a onClick={onUploadClick}>Upload</a>\r\n                </div>\r\n              </div>\r\n            ) : loadPred ? (\r\n              <div className='upload-loading'>\r\n                {/* <img src={URL.createObjectURL(file)} /> */}\r\n                <p>Loading...</p>\r\n              </div>\r\n            ) : (\r\n              <div className='upload-predict'>\r\n                <p>\r\n                  Prediction: {(pred * 100).toFixed(2)}% {model}\r\n                </p>\r\n                <img src={URL.createObjectURL(file)} />\r\n                <a onClick={onClosePred}>Close</a>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Upload>\r\n  );\r\n}\r\n\r\nconst Upload = styled.div`\r\n  max-width: 1100px;\r\n  margin: auto;\r\n  margin-top: 4rem;\r\n  display: flex;\r\n\r\n  .image-select {\r\n    width: 300px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: black;\r\n\r\n    p {\r\n      font-weight: bolder;\r\n      margin-bottom: 1rem;\r\n    }\r\n    a {\r\n      text-decoration: none;\r\n      color: inherit;\r\n      padding: 1rem 0.5rem;\r\n      border-radius: 10px;\r\n\r\n      &:hover {\r\n        background: black;\r\n        color: white;\r\n        transition: 1s;\r\n      }\r\n    }\r\n    a.active {\r\n      background-color: rgba(230, 230, 230, 0.75);\r\n\r\n      &:hover {\r\n        background: black;\r\n        color: white;\r\n        transition: 1s;\r\n      }\r\n    }\r\n  }\r\n\r\n  .image-upload {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    a {\r\n      text-decoration: none;\r\n      color: white;\r\n      background: black;\r\n      padding: 0.5rem;\r\n      border-radius: 10px;\r\n      width: 100px;\r\n      align-self: flex-end;\r\n      font-size: 0.8rem;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-bottom: 0.8rem;\r\n    }\r\n  }\r\n  .upload-box {\r\n    background: #0f2027; /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(\r\n      to right,\r\n      #2c5364,\r\n      #203a43,\r\n      #0f2027\r\n    ); /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(\r\n      to right,\r\n      #2c5364,\r\n      #203a43,\r\n      #0f2027\r\n    ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n\r\n    color: white;\r\n    height: 300px;\r\n    margin-left: 1rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 10px;\r\n\r\n    p {\r\n      text-align: center;\r\n    }\r\n    p:first-child {\r\n      font-size: 1.5rem;\r\n      margin-bottom: 1rem;\r\n    }\r\n    p:last-child {\r\n      font-size: 0.8rem;\r\n    }\r\n  }\r\n  .upload-image {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    img {\r\n      width: 150px;\r\n      border-radius: 10px;\r\n    }\r\n    .upload-image-btns {\r\n      display: flex;\r\n      margin-top: 15px;\r\n\r\n      a:first-child {\r\n        background: #ff5151;\r\n        margin-right: 20px;\r\n      }\r\n      a:last-child {\r\n        background: #77d970;\r\n      }\r\n    }\r\n  }\r\n  .upload-predict {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    p {\r\n      font-size: 1rem;\r\n    }\r\n    img {\r\n      width: 150px;\r\n      border-radius: 10px;\r\n    }\r\n    a {\r\n      align-self: center;\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ImageUpload;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport ImageUpload from \"./components/upload/ImageUpload\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <ImageUpload />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}