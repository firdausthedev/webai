{"version":3,"sources":["components/layout/Navbar.js","components/upload/ImageUpload.js","App.js","index.js"],"names":["Nav","styled","nav","_templateObject","Object","taggedTemplateLiteral","NavContainer","div","_templateObject2","Navbar","react_default","a","createElement","id","className","href","rel","target","Upload","ImageUpload_templateObject","ImageUpload","_useState","useState","_useState2","slicedToArray","model","setModel","_useState3","_useState4","file","setFile","_useState5","_useState6","loadPred","isLoadPred","_useState7","_useState8","showPred","setShowPred","_useState9","_useState10","pred","setPred","_useState11","_useState12","isModel","setIsModel","_useState13","_useState14","error","setError","hiddenFileInput","React","useRef","currentURL","modelFunc","mod","onClick","e","current","click","type","name","accept","style","display","ref","onChange","files","length","event","value","src","URL","createObjectURL","formData","FormData","append","fetch","method","body","then","response","json","res","filename","console","log","success","prob","res2","model2","setTimeout","toFixed","App","layout_Navbar","upload_ImageUpload","ReactDOM","render","StrictMode","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.184ae806.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <NavContainer id='navbar'>\r\n      <Nav>\r\n        <div className='title-wrapper'>\r\n          <h2>ImageAI</h2>\r\n          <a a href='#' rel='noopener noreferrer' target='_blank'>\r\n            Upload Model\r\n          </a>\r\n        </div>\r\n        <ul>\r\n          <li>\r\n            <a href='#' rel='noopener noreferrer' target='_blank'>\r\n              Help\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </Nav>\r\n    </NavContainer>\r\n  );\r\n};\r\n\r\nconst Nav = styled.nav`\r\n  margin: auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.7rem 2rem;\r\n  z-index: 1;\r\n  width: 100%;\r\n  opacity: 0.9;\r\n  margin-bottom: 1.5rem;\r\n  ul {\r\n    list-style: none;\r\n    display: flex;\r\n  }\r\n  a {\r\n    color: white;\r\n    background: black;\r\n    padding: 0.5rem 1rem;\r\n    border-radius: 10px;\r\n    margin: 0 0.25rem;\r\n    font-size: 0.8rem;\r\n    text-decoration: none;\r\n    &:hover {\r\n      background: white;\r\n      color: black;\r\n      transition: 1s;\r\n    }\r\n  }\r\n\r\n  .title-wrapper {\r\n    padding: 0.1rem 1rem;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h2 {\r\n      font-size: 1rem;\r\n    }\r\n    a {\r\n      margin-left: 1.3rem;\r\n    }\r\n  }\r\n  @media (max-width: 480px) {\r\n    flex-direction: column;\r\n    .title-wrapper {\r\n      border-radius: 10px;\r\n      margin-bottom: 1rem;\r\n      h2 {\r\n        font-size: 0.8rem;\r\n      }\r\n    }\r\n    a {\r\n      margin: 2rem 0.25rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NavContainer = styled.div`\r\n  background-color: rgba(230, 230, 230, 0.75);\r\n  color: black;\r\n`;\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nfunction ImageUpload() {\r\n  const [model, setModel] = useState([\"man\", \"woman\"]);\r\n  const [file, setFile] = useState(null);\r\n  const [loadPred, isLoadPred] = useState(false);\r\n  const [showPred, setShowPred] = useState(false);\r\n  const [pred, setPred] = useState(0.0);\r\n  const [isModel, setIsModel] = useState(true);\r\n  const [error, setError] = useState(false);\r\n\r\n  const hiddenFileInput = React.useRef(null);\r\n\r\n  const currentURL = \"https://firdausthedev-webai.herokuapp.com\";\r\n\r\n  const onFileClick = (e) => {\r\n    if (file == null) {\r\n      hiddenFileInput.current.click();\r\n    }\r\n  };\r\n\r\n  const modelFunc = (mod) => {\r\n    if (!showPred) setModel(mod);\r\n  };\r\n\r\n  const fileChange = (e) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      setFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const errorHandle = () => {\r\n    setError(true);\r\n    const timer = setTimeout(() => {\r\n      setError(false);\r\n    }, 3000);\r\n  };\r\n\r\n  // When user click clear btn\r\n  const onClearClick = (e) => {\r\n    setFile(null);\r\n  };\r\n\r\n  // When user click upload btn\r\n  const onUploadClick = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"filename\", file.name);\r\n    isLoadPred(true);\r\n    fetch(currentURL + \"/uploadimage\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        const res = body.filename;\r\n        console.log(body);\r\n        if (body.success == true) {\r\n          fetch(currentURL + \"/predictimage/\" + res + \"/\" + model[0] + \".pkl\", {\r\n            method: \"GET\",\r\n          }).then((response) => {\r\n            response.json().then((body) => {\r\n              const res = body.prob.model;\r\n              const res2 = body.prob.model2;\r\n              console.log(body.prob);\r\n              if (res > res2) {\r\n                setPred(res);\r\n                setIsModel(true);\r\n              } else {\r\n                setPred(res2);\r\n                setIsModel(false);\r\n              }\r\n              isLoadPred(false);\r\n              setShowPred(true);\r\n              // setPred(res);\r\n              console.log(res);\r\n            });\r\n          });\r\n        } else {\r\n          isLoadPred(false);\r\n          setFile(null);\r\n          errorHandle();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  // When user click close btn\r\n  const onClosePred = () => {\r\n    setPred(0.0);\r\n    setShowPred(false);\r\n    setFile(null);\r\n  };\r\n\r\n  return (\r\n    <Upload>\r\n      {error && <p className='error'>Error. Something went wrong</p>}\r\n      <div className='main-upload'>\r\n        <div className='image-select'>\r\n          <p>Select Model</p>\r\n          <a\r\n            onClick={() => modelFunc([\"man\", \"woman\"])}\r\n            className={model[0] == \"man\" ? \"active\" : \"\"}\r\n          >\r\n            Man or Woman\r\n          </a>\r\n          <a\r\n            onClick={() => modelFunc([\"knife\", \"scissor\"])}\r\n            className={model[0] === \"knife\" ? \"active\" : \"\"}\r\n          >\r\n            Knife or Scissor\r\n          </a>\r\n          <a\r\n            onClick={() => modelFunc([\"cat\", \"dog\"])}\r\n            className={model[0] === \"cat\" ? \"active\" : \"\"}\r\n          >\r\n            Cat or Dog\r\n          </a>\r\n          <a\r\n            onClick={() => modelFunc(\"model\")}\r\n            className={model === \"model\" ? \"active\" : \"\"}\r\n          >\r\n            Upload model +\r\n          </a>\r\n        </div>\r\n        <div className='image-upload'>\r\n          <a>My Uploads</a>\r\n          <div className='upload-box' onClick={onFileClick}>\r\n            <input\r\n              id='file-upload'\r\n              type='file'\r\n              name='file'\r\n              accept='image/*'\r\n              style={{ display: \"none\" }}\r\n              ref={hiddenFileInput}\r\n              onChange={fileChange}\r\n              onClick={(event) => {\r\n                event.target.value = null;\r\n              }}\r\n            />\r\n            <div>\r\n              {file == null ? (\r\n                <div className='upload-info'>\r\n                  <p>UPLOAD IMAGE HERE</p>\r\n                  <p>Accepting image files such as png, jpg and jpeg.</p>\r\n                </div>\r\n              ) : loadPred == false && showPred == false ? (\r\n                <div className='upload-image'>\r\n                  <img src={URL.createObjectURL(file)} />\r\n                  <p></p>\r\n                  <div className='upload-image-btns'>\r\n                    <a onClick={onClearClick}>Clear</a>\r\n                    <a onClick={onUploadClick}>Upload</a>\r\n                  </div>\r\n                </div>\r\n              ) : loadPred ? (\r\n                <div className='upload-loading'>\r\n                  {/* <img src={URL.createObjectURL(file)} /> */}\r\n                  <p>Loading...</p>\r\n                </div>\r\n              ) : (\r\n                <div className='upload-predict'>\r\n                  <p>\r\n                    Prediction: {(pred * 100).toFixed(2)}%{\" \"}\r\n                    {isModel ? model[0] : model[1]}\r\n                  </p>\r\n                  <img src={URL.createObjectURL(file)} />\r\n                  <a onClick={onClosePred}>Close</a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Upload>\r\n  );\r\n}\r\n\r\nconst Upload = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 1100px;\r\n  margin: auto;\r\n\r\n  .main-upload {\r\n    display: flex;\r\n    margin-top: 2rem;\r\n\r\n    .image-select {\r\n      width: 300px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      color: black;\r\n\r\n      p {\r\n        font-weight: bolder;\r\n        margin-bottom: 1rem;\r\n      }\r\n      a {\r\n        text-decoration: none;\r\n        color: inherit;\r\n        padding: 1rem 0.5rem;\r\n        border-radius: 10px;\r\n\r\n        &:hover {\r\n          background: black;\r\n          color: white;\r\n          transition: 1s;\r\n        }\r\n      }\r\n      a.active {\r\n        background-color: rgba(230, 230, 230, 0.75);\r\n\r\n        &:hover {\r\n          background: black;\r\n          color: white;\r\n          transition: 1s;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .image-upload {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    a {\r\n      text-decoration: none;\r\n      color: white;\r\n      background: black;\r\n      padding: 0.5rem;\r\n      border-radius: 10px;\r\n      width: 100px;\r\n      align-self: flex-end;\r\n      font-size: 0.8rem;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-bottom: 0.8rem;\r\n    }\r\n  }\r\n  .upload-box {\r\n    background: #0f2027; /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(\r\n      to right,\r\n      #2c5364,\r\n      #203a43,\r\n      #0f2027\r\n    ); /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(\r\n      to right,\r\n      #2c5364,\r\n      #203a43,\r\n      #0f2027\r\n    ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n\r\n    color: white;\r\n    height: 300px;\r\n    margin-left: 1rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 10px;\r\n\r\n    p {\r\n      text-align: center;\r\n    }\r\n    p:first-child {\r\n      font-size: 1.5rem;\r\n      margin-bottom: 1rem;\r\n    }\r\n    p:last-child {\r\n      font-size: 0.8rem;\r\n    }\r\n  }\r\n  .upload-image {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    img {\r\n      width: 150px;\r\n      height: 150px;\r\n      border-radius: 10px;\r\n    }\r\n    .upload-image-btns {\r\n      display: flex;\r\n      margin-top: 15px;\r\n\r\n      a:first-child {\r\n        background: #ff5151;\r\n        margin-right: 20px;\r\n      }\r\n      a:last-child {\r\n        background: #77d970;\r\n      }\r\n    }\r\n  }\r\n  .upload-predict {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    p {\r\n      font-size: 1rem;\r\n    }\r\n    img {\r\n      width: 150px;\r\n      height: 150px;\r\n      border-radius: 10px;\r\n    }\r\n    a {\r\n      align-self: center;\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n\r\n  .error {\r\n    display: block;\r\n    border: 1px solid #ff5151;\r\n    padding: 0.5rem 0.8rem;\r\n    text-align: center;\r\n    color: #ff5151;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nexport default ImageUpload;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport ImageUpload from \"./components/upload/ImageUpload\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <ImageUpload />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}